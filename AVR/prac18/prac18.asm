.include"m32def.inc"
CBI DDRA,0
LDI R16,0XFF
OUT DDRB,R16

REPEAT: SBIS PINA,0
 	    JMP MOD10
 		LDI R17,0X0F
UP: 	OUT PORTB,R17
 		CALL DELAY
 		DEC R17
		CPI R17,0X00
		BRNE UP
 		JMP REPEAT
MOD10:  LDI R17,0X00
UP1:    OUT PORTB,R17
 		CALL DELAY
 		INC R17
 		CPI R17,0X0A
 		BREQ REPEAT
 		JMP UP1
DELAY: LDI R22,0X07
LOOP3: LDI R20,0XFF
LOOP2: LDI R21,0XFF
LOOP1: DEC R21
 	   BRNE LOOP1
 	   DEC R20
	   BRNE LOOP2
       DEC R22 
       BRNE LOOP3
       RET
